jQuery(document).ready(function(e){function o(e,o){var s=n(e,o);if(""===o.addresses&&""===o.latlngs){var t=new google.maps.LatLng(51.5073509,-.12775829999998223);if(""!==o.center_latlng){var l=o.center_latlng.split(",");t=new google.maps.LatLng(l[0],l[1])}s.setCenter(t)}else a(s,e,o);var r;"manual"===o.auto_zoom?r=google.maps.event.addListener(s,"bounds_changed",function(){this.setZoom(parseInt(o.map_zoom)),google.maps.event.removeListener(r)}):void 0!==r&&google.maps.event.removeListener(r)}function n(e,o){var n={zoom:parseInt(o.map_zoom,10),scrollwheel:!1,draggable:"on"===o.map_scrollable,mapTypeId:google.maps.MapTypeId[o.map_type]};return o.bounds=new google.maps.LatLngBounds,new google.maps.Map(e[0],n)}function a(e,o,n){n.markers=[],n.addresses?s(e,n):n.latlngs&&t(e,n)}function s(o,n){n.addresses=n.addresses.split(",");var a=0;e.each(n.addresses,function(e,s){(new google.maps.Geocoder).geocode({address:s},function(s,t){if(t===google.maps.GeocoderStatus.OK){if(void 0!==s[0]){var r=s[0].geometry.location;n.markers[e]={position:new google.maps.LatLng(r.lat(),r.lng())},n.bounds.extend(n.markers[e].position)}++a===n.addresses.length&&l(o,n)}})})}function t(e,o){o.latlngs=o.latlngs.split(",");for(var n=0;n<o.latlngs.length;n++){var a=o.latlngs[n].split("|");o.markers[n]={position:new google.maps.LatLng(a[0],a[1])},o.bounds.extend(o.markers[n].position)}l(e,o)}function l(o,n){n.labels=n.labels.split(","),e.each(n.markers,function(e,a){var s={position:a.position,visible:"on"===n.show_markers,map:o},t=new google.maps.Marker(s);if(void 0!==n.labels[e]){var l=new google.maps.InfoWindow({content:n.labels[e]});google.maps.event.addListener(t,"click",function(){l.open(o,this)})}}),r(o,n)}function r(e,o){if("auto"===o.auto_center)"manual"===o.auto_zoom?e.setCenter(o.bounds.getCenter()):e.fitBounds(o.bounds);else if(void 0!==o.center_latlng){var n=o.center_latlng.split(","),a=new google.maps.LatLng(n[0],n[1]);e.setCenter(a)}}e(".verso-map_shortcode").each(function(){var n=e(this),a=n.attr("id");if(void 0!==window[a]){var s=window[a];o(n,s),n.css("height",s.height+"px")}})});